<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>404 Not Found</title>
  <link rel="stylesheet" href="{{ url_for('assets', path='style.css') }}">
</head>
<body>
    <div class="container">
      <header class="header">
        <div class="brand">
          <div class="logo"></div>
          <div class="title">시간표 정하기</div>
        </div>
      </header>
  
      <section class="hero panel">
        <h2 class="m-0" style="color: #000;">강의/강의실 데이터 업로드</h2>
        <p class="mt-1" style="color: #000000;">
          CSV 또는 Excel(xlsx/xls) 파일을 업로드하세요. 업로드 후 상위 데이터 미리보기를 제공합니다.
        </p>
      </section>
  
      <!-- 업로드 폼 -->
      <section class="panel mt-4">
        <form action="/uploads" method="post" enctype="multipart/form-data" onsubmit="return validateFileInputs()">
          <div class="grid cols-2 file-row">
            <div>
              <label class="file-label" for="courses">강좌표 파일</label>
              <input id="courses" class="input file-input mt-1"
                     type="file" name="courses"
                     accept=".csv,.xlsx,.xls">
              <small class="help-text">허용: .csv, .xlsx, .xls</small>
            </div>
  
            <div>
              <label class="file-label" for="classRoom">강의실표 파일</label>
              <input id="classRoom" class="input file-input mt-1"
                     type="file" name="classRoom"
                     accept=".csv,.xlsx,.xls">
              <small class="help-text">허용: .csv, .xlsx, .xls</small>
            </div>
          </div>
  
          <div class="actions mt-3">
            <button class="btn" type="submit" name="submit">제출하기</button>
            <button class="btn" type="reset">초기화</button>
          </div>

        </form>
      </section>
    </div>
  </body>

<script>
function validateFileInputs() {
    // 1. DOM에서 두 개의 필수 파일 입력 요소를 가져옵니다.
    const coursesInput = document.getElementById('courses');
    const classRoomInput = document.getElementById('classRoom');

    let errorMessage = [];

    // 2. 'courses' 파일 입력 필드 체크
    if (!coursesInput || coursesInput.value === "")
        errorMessage.push("강좌표 파일 (courses)을 반드시 제출해야 합니다.\n");


    // 3. 'classRoom' 파일 입력 필드 체크
    if (!classRoomInput || classRoomInput.value === "") 
        errorMessage.push("강의실표 파일 (classRoom)을 반드시 제출해야 합니다.\n");


    errorMessage.forEach(element => {
            alert(element);
        });
    return !Boolean(errorMessage.length); // 폼 제출 허용
}
</script>